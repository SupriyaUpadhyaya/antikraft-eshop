<style>
    .already_section {
      margin-top: 0px;
      margin-right: 240px;
      display: inline-block;
    }
  
    .already_section h4 {
      display: inline-block;
      margin-right: 10px;
    }
  
    .rounded-button {
      width: 80px;
      height: 35px;
      background-color: #000000;
      border: none;
      color: #ffffff;
      text-align: center;
      font-size: 16px;
      border-radius: 10px;
      display: inline-block;
      vertical-align: middle;
      margin-top: -10px;
      margin-left: 10px;
    }
  </style>
  
  <style>
    .signup-section {
      margin-top: 0px;
      margin-right: 720px;
      /* Adjust the value as needed to create the desired space */
    }
  </style>
  
  <style>
    body {
      background-color: #fff;
      color: #000;
    }
  
    .container {
      max-width: 700px;
      margin: 0 auto;
      padding: 20px;
    }
  
    .form-group {
      margin-bottom: 20px;
    }
  
    .form-group label {
      display: block;
      margin-bottom: 5px;
    }
  
    .form-control {
      width: 100%;
      padding: 10px;
      border: 1px solid #000;
      border-radius: 5px;
      background-color: #fff;
      color: #000;
    }
  
    .btn {
      display: block;
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 5px;
      background-color: #000;
      color: #fff;
      text-align: center;
      text-decoration: none;
      font-weight: bold;
    }
  </style>
  <script>
    function GetURLParameter(sParam)
var errorval = GetURLParameter('error')â€‹
  </script>
  <div class="container">
    <h2>Update Personal Information</h2>
    {% if errorval == "True" %}
      <h6 style="color: red; text-align: left;">Error: Registration was not successful. Please try again.</h6>
      {% endif %}
    <form action="/updatePersonalInfo" method="POST" onsubmit="return validateForm()">
      <div class="form-group">
        <label for="salutation">Salutation*:</label>
        <select class="form-control" id="salutation" name="salutation" required>
          <option value="">{{session['user_salutation'][0]}}</option>
          <option value="Mr.">Mr</option>
          <option value="Mrs.">Mrs</option>
          <option value="Miss">Miss</option>
          <option value="Ms.">Ms</option>
        </select>
      </div>
      <div class="form-group">
        <label for="firstname">First Name*:</label>
        <input type="text" class="form-control" id="firstname" name="firstname" value="{{session['user_firstname'][0]}}" required>
      </div>
      <div class="form-group">
        <label for="lastname">Last Name*:</label>
        <input type="text" class="form-control" id="lastname" name="lastname" value="{{session['user_lastname'][0]}}" required>
      </div>
      <div class="form-group">
        <label for="email">Email*:</label>
        <input type="email" class="form-control" id="email" name="email" value="{{session['user_email'][0]}}" readonly>
      </div>
      <div class="form-group">
        <label for="address">Address*:</label>
        <input type="address" class="form-control" id="address" name="address" value="{{session['user_address'][0]}}" required>
      </div>
      <div class="form-group">
        <label for="phonenumber">Phone Number:</label>
        <input type="text" class="form-control" id="phonenumber" value="{{session['user_phone'][0]}}" name="phonenumber">
      </div>
      <div class="form-group">
        <label for="confirm-password">Security Question: What city were you born in?* (Needed for password reset)</label>
        <input type="security-question" class="form-control" id="security-question" value="{{session['security_question'][0]}}" name="security-question" required>
      </div>
      <button type="submit" class="btn">Update</button>
    </form>
    <script>
      var newPasswordInput = document.getElementById("password");
      var confirmPasswordInput = document.getElementById("confirm-password");
      var passwordLengthMessage = document.getElementById("passwordLengthMessage");
      var passwordComplexityMessage = document.getElementById("passwordComplexityMessage");
      var passwordMatchMessage = document.getElementById("passwordMatchMessage");
  
      newPasswordInput.addEventListener("input", validatePassword);
      confirmPasswordInput.addEventListener("input", validatePassword);
  
      function validatePassword() {
        var newPassword = newPasswordInput.value;
        var confirmPassword = confirmPasswordInput.value;
  
        if (newPassword.length < 8) {
          passwordLengthMessage.style.display = "block";
        } else {
          passwordLengthMessage.style.display = "none";
        }
  
        var hasLowercase = /[a-z]/.test(newPassword);
        var hasUppercase = /[A-Z]/.test(newPassword);
        var hasSymbol = /[!@#$%^&*()\-=_+[\]{}|\\;:'",.<>/?]/.test(newPassword);
        var hasDigit = /\d/.test(newPassword);
  
        if (!(hasLowercase && hasUppercase && hasSymbol && hasDigit)) {
          passwordComplexityMessage.style.display = "block";
        } else {
          passwordComplexityMessage.style.display = "none";
        }
  
        if (newPassword !== confirmPassword) {
          passwordMatchMessage.style.display = "block";
        } else {
          passwordMatchMessage.style.display = "none";
        }
      }
  
      function validateForm() {
        var newPassword = newPasswordInput.value;
        var confirmPassword = confirmPasswordInput.value;
  
        if (newPassword.length < 8) {
          alert("Password must be at least 8 characters long.");
          return false;
        }
  
        var hasLowercase = /[a-z]/.test(newPassword);
        var hasUppercase = /[A-Z]/.test(newPassword);
        var hasSymbol = /[!@#$%^&*()\-=_+[\]{}|\\;:'",.<>/?]/.test(newPassword);
        var hasDigit = /\d/.test(newPassword);
  
        if (!(hasLowercase && hasUppercase && hasSymbol && hasDigit)) {
          alert("Password must contain at least one lowercase letter, one uppercase letter, one symbol, and one digit.");
          return false;
        }
  
        if (newPassword !== confirmPassword) {
          alert("New password and confirm password do not match.");
          return false;
        }
  
        return true;
      }
    </script>
  </div>